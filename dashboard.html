<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dashboard - ATS Resume Maker</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    .btn-hover {
      transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
    }
    .btn-hover:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(59, 130, 246, 0.6);
      background: #2563eb;
    }
    .card-hover {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card-hover:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0,0,0,0.15);
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center">

  <!-- Navbar -->
  <nav class="bg-white shadow-md p-4 flex justify-between items-center w-full fixed top-0 z-10">
    <a href="index.html" class="text-2xl font-bold text-blue-600">ATS Resume Maker</a>
    <button id="logoutBtn" class="px-4 py-2 bg-red-500 text-white rounded-lg btn-hover">Logout</button>
  </nav>

  <!-- Main Container -->
  <main class="flex-1 flex flex-col items-center justify-start pt-28 px-4 w-full mb-12">
    <div class="bg-white rounded-3xl shadow-xl p-8 max-w-2xl w-full space-y-6 card-hover">
      <h1 class="text-3xl font-bold text-center text-gray-800">Welcome, <span id="userFirstName">User</span>!</h1>
      <p class="text-gray-600 text-center text-sm md:text-base">Upload your old resume, paste the job description, and generate an ATS-friendly resume in one click.</p>
      <div>
        <label class="block mb-1 font-semibold text-gray-700">Upload Resume</label>
        <input type="file" class="w-full border rounded-lg p-2">
      </div>
      <div>
        <label class="block mb-1 font-semibold text-gray-700">Job Description</label>
        <textarea id="jobDesc" class="w-full border rounded-lg p-3 h-28" placeholder="Paste your job description here..."></textarea>
      </div>
      <button id="generateBtn" class="w-full py-3 bg-blue-600 text-white rounded-lg font-semibold btn-hover text-lg">Generate Resume</button>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white text-center py-6 mt-auto w-full">
    <p>Â© 2025 ATS Resume Maker. All rights reserved.</p>
    <div class="mt-2 space-x-4">
      <a href="index.html" class="hover:underline">About</a>
      <a href="contact.html" class="hover:underline">Contact</a>
      <a href="privacy.html" class="hover:underline">Privacy Policy</a>
    </div>
  </footer>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCK521QDhGDOanOo9v7tFU8MWS23w8ckrU",
      authDomain: "ats-resume-maker-60d0a.firebaseapp.com",
      projectId: "ats-resume-maker-60d0a",
      storageBucket: "ats-resume-maker-60d0a.firebasestorage.app",
      messagingSenderId: "775894392306",
      appId: "1:775894392306:web:bedd4534cf853d7e739f6b",
      measurementId: "G-QM6TL7NMNB"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Check user auth state
    onAuthStateChanged(auth, (user) => {
      if (user) {
        const firstName = (user.displayName || user.email.split("@")[0]);
        document.getElementById("userFirstName").textContent = firstName;
      } else {
        window.location.href = "login.html";
      }
    });

    // Logout
    document.getElementById("logoutBtn").addEventListener("click", async () => {
      await signOut(auth);
      window.location.href = "login.html";
    });

    // Resume generation simulation
    const generateBtn = document.getElementById("generateBtn");
    generateBtn.addEventListener("click", () => {
      const jobDesc = document.getElementById("jobDesc").value;
      if (!jobDesc.trim()) {
        alert("Please paste the Job Description!");
        return;
      }
      generateBtn.disabled = true;
      generateBtn.textContent = "Generating...";
      generateBtn.classList.add("opacity-70");
      setTimeout(() => {
        generateBtn.disabled = false;
        generateBtn.textContent = "Generate Resume";
        generateBtn.classList.remove("opacity-70");
        alert("Resume generated successfully!");
      }, 1500);
    });
  </script>
</body>
</html>
